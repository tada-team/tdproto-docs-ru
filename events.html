

<!DOCTYPE html>
<html class="writer-html5" lang="ru" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>События клиента &mdash; документация Tdproto docs </title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.svg"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Алфавитный указатель" href="genindex.html" />
    <link rel="search" title="Поиск" href="search.html" />
    <link rel="next" title="Индекс Enum" href="data_index.html" />
    <link rel="prev" title="Остальные пути" href="misc_paths.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Tdproto docs
          

          
            
            <img src="_static/logo.svg" class="logo" alt="Логотип"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Поиск в документации" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basics.html">Основы</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_paths.html">Остальные пути</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">События клиента</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#client-activity">client.activity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-buzzcancel">client.call.buzzcancel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-leave">client.call.leave</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-muteall">client.call.muteall</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-offer">client.call.offer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-reject">client.call.reject</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-sound">client.call.sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-call-trickle">client.call.trickle</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-chat-composing">client.chat.composing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-chat-lastread">client.chat.lastread</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-confirm">client.confirm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-message-deleted">client.message.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-message-updated">client.message.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-ping">client.ping</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#server-events">События сервера</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#server-call-answer">server.call.answer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-buzz">server.call.buzz</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-buzzcancel">server.call.buzzcancel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-checkfingerprint">server.call.checkfingerprint</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-leave">server.call.leave</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-muteall">server.call.muteall</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-reject">server.call.reject</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-restart">server.call.restart</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-sound">server.call.sound</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-state">server.call.state</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-call-talking">server.call.talking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-chat-composing">server.chat.composing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-chat-deleted">server.chat.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-chat-draft">server.chat.draft</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-chat-lastread">server.chat.lastread</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-chat-updated">server.chat.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-confirm">server.confirm</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-contact-updated">server.contact.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-debug">server.debug</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-login">server.login</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-message-push">server.message.push</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-message-received">server.message.received</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-message-updated">server.message.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-online">server.online</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-panic">server.panic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-processing">server.processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-remind-deleted">server.remind.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-remind-fired">server.remind.fired</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-remind-updated">server.remind.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-section-deleted">server.section.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-section-updated">server.section.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-tag-deleted">server.tag.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-tag-updated">server.tag.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-team-counters">server.team.counters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-team-deleted">server.team.deleted</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-team-updated">server.team.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-time">server.time</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-uisettings">server.uisettings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-upload-updated">server.upload.updated</a></li>
<li class="toctree-l2"><a class="reference internal" href="#server-warning">server.warning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_index.html">Индекс Enum</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_index.html#type-aliases">Псевдонимы типов</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_index.html#json-objects-index">Индекс JSON объектов</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Tdproto docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>События клиента</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/events.rst.txt" rel="nofollow"> Просмотреть исходный код страницы</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="client-events">
<h1>События клиента<a class="headerlink" href="#client-events" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="client-activity">
<h2>client.activity<a class="headerlink" href="#client-activity" title="Ссылка на этот заголовок">¶</a></h2>
<p>Поменять AFK (не у клавиатуры) статус</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">afk</span></code> - Не у клавиатуры</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;75a406625c58&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.activity&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;afk&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-buzzcancel">
<h2>client.call.buzzcancel<a class="headerlink" href="#client-call-buzzcancel" title="Ссылка на этот заголовок">¶</a></h2>
<p>Отмена звонка</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;8c52201ff7ed&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.buzzcancel&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-leave">
<h2>client.call.leave<a class="headerlink" href="#client-call-leave" title="Ссылка на этот заголовок">¶</a></h2>
<p>Покинуть звонок</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason</span></code> - Причина если есть</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;f5b6d29013c3&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.leave&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span><span class="p">,</span>
             <span class="nt">&quot;reason&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-muteall">
<h2>client.call.muteall<a class="headerlink" href="#client-call-muteall" title="Ссылка на этот заголовок">¶</a></h2>
<p>Заглушить всех других участников звонка</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="client-call-offer">
<h2>client.call.offer<a class="headerlink" href="#client-call-offer" title="Ссылка на этот заголовок">¶</a></h2>
<p>Начать звонок</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">muted</span></code> - состояние безмолвности</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sdp</span></code> - SDP (session description protocol) данные</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">trickle</span></code> - струйный режим включен</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;b45fdc034116&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.offer&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span><span class="p">,</span>
             <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span><span class="p">,</span>
             <span class="nt">&quot;sdp&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
             <span class="nt">&quot;trickle&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-reject">
<h2>client.call.reject<a class="headerlink" href="#client-call-reject" title="Ссылка на этот заголовок">¶</a></h2>
<p>Отвергнуть звонок</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason</span></code> - Причина если есть</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;55e8cc25d534&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.reject&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-sound">
<h2>client.call.sound<a class="headerlink" href="#client-call-sound" title="Ссылка на этот заголовок">¶</a></h2>
<p>Поменять состояние безмолвности</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">muted</span></code> - состояние безмолвности</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;4a24b770a659&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.sound&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span><span class="p">,</span>
             <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-call-trickle">
<h2>client.call.trickle<a class="headerlink" href="#client-call-trickle" title="Ссылка на этот заголовок">¶</a></h2>
<p>Послать trickle кандидата для webrtc соединения</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">candidate</span></code> - Trickle кандидат</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sdp_mid</span></code> - SDP mid</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sdp_mline_index</span></code> - SDP индекс</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;5bde78b37316&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.call.trickle&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;candidate&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span><span class="p">,</span>
             <span class="nt">&quot;sdp_mid&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
             <span class="nt">&quot;sdp_mline_index&quot;</span><span class="p">:</span> <span class="s2">&quot;INT&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-chat-composing">
<h2>client.chat.composing<a class="headerlink" href="#client-chat-composing" title="Ссылка на этот заголовок">¶</a></h2>
<p>Пишет или записывает аудио сообщение</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">composing</span></code> - true = начать писать / записывать аудио, false = остановиться</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draft</span></code> - Данные черновика сообщения</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_audio</span></code> - true = аудио сообщение, false = набор текста</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2bd5afaf39af&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.chat.composing&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-chat-lastread">
<h2>client.chat.lastread<a class="headerlink" href="#client-chat-lastread" title="Ссылка на этот заголовок">¶</a></h2>
<p>Последние прочитанное сообщение в чате изменилось</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">last_read_message_id</span></code> - Id последнего прочитанного сообщения. Если нет то последние сообщение в чате</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;8561d892f3d8&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.chat.lastread&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span><span class="p">,</span>
             <span class="nt">&quot;last_read_message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-confirm">
<h2>client.confirm<a class="headerlink" href="#client-confirm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Клиент подтвердил сообщение с сервера</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">confirm_id</span></code> - Уникальный идентификатор созданный клиентом.</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.confirm&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;str&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-message-deleted">
<h2>client.message.deleted<a class="headerlink" href="#client-message-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сообщение удалено</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message_id</span></code> - Id сообщения</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;cd778785149a&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.message.deleted&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-message-updated">
<h2>client.message.updated<a class="headerlink" href="#client-message-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сообщение создано или изменено</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">comment</span></code> - Устарело</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">content</span></code> - содержание сообщения. Обязательно</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">important</span></code> - флаг важности. Не обязательно. По умолчанию: false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linked_messages</span></code> - Пересланные сообщения (ранее тоже были для ответа). Не требуется</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message_id</span></code> - Uid созданное клиентом. Рекомендуется</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nopreview</span></code> - Отключить создание предварительного просмотра ссылок. Не требуется. По умолчанию: false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">old_style_attachment</span></code> - Режим обратной совместимости</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reply_to</span></code> - Ответил на сообщение на заданном Id. Не требуется</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to</span></code> - JID чата, задачи или контакта. Требуется</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uploads</span></code> - Прикрепления сообщения</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;2694a2864526&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.message.updated&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
             <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;...&quot;</span><span class="p">,</span>
                     <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;plain&quot;</span>
             <span class="p">},</span>
             <span class="nt">&quot;important&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span><span class="p">,</span>
             <span class="nt">&quot;linked_messages&quot;</span><span class="p">:</span> <span class="p">[</span>
                     <span class="s2">&quot;STRING&quot;</span>
             <span class="p">],</span>
             <span class="nt">&quot;message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;STRING&quot;</span><span class="p">,</span>
             <span class="nt">&quot;nopreview&quot;</span><span class="p">:</span> <span class="s2">&quot;BOOL&quot;</span><span class="p">,</span>
             <span class="nt">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;JID&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="client-ping">
<h2>client.ping<a class="headerlink" href="#client-ping" title="Ссылка на этот заголовок">¶</a></h2>
<p>Пустое сообщение чтобы проверить статус соединения</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;8aad294579b8&quot;</span><span class="p">,</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.ping&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="server-events">
<h1>События сервера<a class="headerlink" href="#server-events" title="Ссылка на этот заголовок">¶</a></h1>
<div class="section" id="server-call-answer">
<h2>server.call.answer<a class="headerlink" href="#server-call-answer" title="Ссылка на этот заголовок">¶</a></h2>
<p>Параметры звонка</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">candidates</span></code> - Список ICE кандидатов (когда trickle = false)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jsep</span></code> - SDP данные</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onliners</span></code> - Текушие участники звонка</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.call.answer&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;candidates&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;candidate&quot;</span><span class="p">:</span> <span class="s2">&quot;candidate:2 1 tcp 1019216383 95.213.181.86 0 typ host tcptype active&quot;</span><span class="p">,</span>
                <span class="nt">&quot;sdpMLineIndex&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-3f7e2a85-49f5-4586-8229-d9c52813dcb2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;jsep&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;sdp&quot;</span><span class="p">:</span> <span class="s2">&quot;.....SDP....&quot;</span><span class="p">,</span>
            <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;answer&quot;</span>
        <span class="p">},</span>
        <span class="nt">&quot;onliners&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;browser&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="kc">true</span>
                    <span class="p">},</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;browser&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                        <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="kc">true</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-ef53637c-f44c-4f49-9ffb-05436eb995ce&quot;</span><span class="p">,</span>
                <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-call-buzz">
<h2>server.call.buzz<a class="headerlink" href="#server-call-buzz" title="Ссылка на этот заголовок">¶</a></h2>
<p>Звонок гудит</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">actor</span></code> - Краткая информация о создателе звонка</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buzz_timeout</span></code> - Количество секунд до окончания звонка</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chat</span></code> - Краткая информация о чате</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display_name</span></code> - Титул чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icons</span></code> - Иконки чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team</span></code> - Устарело</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">teaminfo</span></code> - Краткая информация о команде</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.call.buzz&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;имя фамилия&quot;</span><span class="p">,</span>
        <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;lg&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">512</span><span class="p">,</span>
                <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/static/tada-bots/systembot512.png&quot;</span><span class="p">,</span>
                <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">512</span>
            <span class="p">},</span>
            <span class="nt">&quot;sm&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;height&quot;</span><span class="p">:</span> <span class="mi">256</span><span class="p">,</span>
                <span class="nt">&quot;url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/static/tada-bots/systembot256.png&quot;</span><span class="p">,</span>
                <span class="nt">&quot;width&quot;</span><span class="p">:</span> <span class="mi">256</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-3f7e2a85-49f5-4586-8229-d9c52813dcb2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;team&quot;</span><span class="p">:</span> <span class="s2">&quot;6aefcf3b-e61c-4f35-8b5b-9d762a6a6cf9&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-call-buzzcancel">
<h2>server.call.buzzcancel<a class="headerlink" href="#server-call-buzzcancel" title="Ссылка на этот заголовок">¶</a></h2>
<p>Звонок отменен на гудке</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team</span></code> - Id команды</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.call.buzzcancel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-0bdfbbf5-abfa-4ed2-9f98-991d5bb80127&quot;</span><span class="p">,</span>
        <span class="nt">&quot;team&quot;</span><span class="p">:</span> <span class="s2">&quot;848cc926-3048-44b3-a9ba-3195a394351d&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-call-checkfingerprint">
<h2>server.call.checkfingerprint<a class="headerlink" href="#server-call-checkfingerprint" title="Ссылка на этот заголовок">¶</a></h2>
<p>Экспериментальная функция</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">fingerprint</span></code> - Отсутствует документация</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-leave">
<h2>server.call.leave<a class="headerlink" href="#server-call-leave" title="Ссылка на этот заголовок">¶</a></h2>
<p>Участник звонка покинул звонок</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - uid звонка</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-muteall">
<h2>server.call.muteall<a class="headerlink" href="#server-call-muteall" title="Ссылка на этот заголовок">¶</a></h2>
<p>Все участники звонка заглушены</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">muted</span></code> - состояние безмолвности</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-reject">
<h2>server.call.reject<a class="headerlink" href="#server-call-reject" title="Ссылка на этот заголовок">¶</a></h2>
<p>Отвергнуть звонок</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reason</span></code> - Причина если есть</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-restart">
<h2>server.call.restart<a class="headerlink" href="#server-call-restart" title="Ссылка на этот заголовок">¶</a></h2>
<p>Звонок перезапущен</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team</span></code> - Id команды</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-sound">
<h2>server.call.sound<a class="headerlink" href="#server-call-sound" title="Ссылка на этот заголовок">¶</a></h2>
<p>Отключить / включить микрофон участника звонка</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">muted</span></code> - состояние безмолвности</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-call-state">
<h2>server.call.state<a class="headerlink" href="#server-call-state" title="Ссылка на этот заголовок">¶</a></h2>
<p>Параметры звонка или номер участников изменены</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">audiorecord</span></code> - Запись звонка включена</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">buzz</span></code> - Звонок гудит</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">finish</span></code> - Звонок окончен, если существует</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">onliners</span></code> - Участники звонка</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">start</span></code> - Начало звонка, если существует</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code> - Начало события. FIXME: why not gentime?</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uid</span></code> - Id звонка</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.call.state&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;audiorecord&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;buzz&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;finish&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-3f7e2a85-49f5-4586-8229-d9c52813dcb2&quot;</span><span class="p">,</span>
        <span class="nt">&quot;onliners&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;devices&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                        <span class="nt">&quot;useragent&quot;</span><span class="p">:</span> <span class="s2">&quot;Chrome&quot;</span>
                    <span class="p">}</span>
                <span class="p">],</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-d6de9748-0bcd-4145-b1ce-3d7f41c1c26f&quot;</span><span class="p">,</span>
                <span class="nt">&quot;muted&quot;</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;start&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-27T01:01:35.264095Z&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-call-talking">
<h2>server.call.talking<a class="headerlink" href="#server-call-talking" title="Ссылка на этот заголовок">¶</a></h2>
<p>Кото-то говорит в звонке</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">actor</span></code> - Id исполнителя</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">talking</span></code> - говорит сейчас?</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.call.talking&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;_level&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">&quot;actor&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;talking&quot;</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-chat-composing">
<h2>server.chat.composing<a class="headerlink" href="#server-chat-composing" title="Ссылка на этот заголовок">¶</a></h2>
<p>Кто-то пишет или записывает звонок в чате</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">actor</span></code> - Id исполнителя</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">composing</span></code> - true = начать писать / записывать аудио, false = остановиться</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">is_audio</span></code> - true = аудио сообщение, false = набор текста</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">valid_until</span></code> - Максимальная длительность жизни</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.chat.composing&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;actor&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;composing&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="nt">&quot;is_audio&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-chat-deleted">
<h2>server.chat.deleted<a class="headerlink" href="#server-chat-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чат удален</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">badge</span></code> - количество непрочитанных сообщений</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chats</span></code> - список удаленных чатов</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team_unread</span></code> - количество непрочитанных в этой команде</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.chat.deleted&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;badge&quot;</span><span class="p">:</span> <span class="mi">449</span><span class="p">,</span>
        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;group&quot;</span><span class="p">,</span>
                <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1569546094920474368</span><span class="p">,</span>
                <span class="nt">&quot;is_archive&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-3f7e2a85-49f5-4586-8229-d9c52813dcb2&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;team_unread&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">31</span>
            <span class="p">},</span>
            <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-chat-draft">
<h2>server.chat.draft<a class="headerlink" href="#server-chat-draft" title="Ссылка на этот заголовок">¶</a></h2>
<p>Черновик сообщения был изменен</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">draft</span></code> - Текст черновика</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">draft_num</span></code> - Версия черновика. TODO: use gentime instead</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jid</span></code> - id чата или контакта</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-chat-lastread">
<h2>server.chat.lastread<a class="headerlink" href="#server-chat-lastread" title="Ссылка на этот заголовок">¶</a></h2>
<p>Изменение последнего прочитанного сообщения</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">badge</span></code> - количество непрочитанных сообщений</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chats</span></code> - Счетчик чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team_unread</span></code> - количество непрочитанных в этой команде</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.chat.lastread&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;badge&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;direct&quot;</span><span class="p">,</span>
                <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1569546084300075149</span><span class="p">,</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-2a9d8c43-41d1-479c-9c8c-f029f799a724&quot;</span><span class="p">,</span>
                <span class="nt">&quot;last_read_message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;f4f1f09c-f978-4b54-a321-b4c82604010d&quot;</span><span class="p">,</span>
                <span class="nt">&quot;num_unread&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;num_unread_notices&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;team_unread&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-chat-updated">
<h2>server.chat.updated<a class="headerlink" href="#server-chat-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Чат создан или обновлен</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">badge</span></code> - количество непрочитанных сообщений</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chats</span></code> - Счетчик чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team_unread</span></code> - количество непрочитанных в этой команде</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.chat.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;badge&quot;</span><span class="p">:</span> <span class="mi">449</span><span class="p">,</span>
        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;can_call&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;can_send_message&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;group&quot;</span><span class="p">,</span>
                <span class="nt">&quot;counters_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-18T00:00:06.105362Z&quot;</span><span class="p">,</span>
                <span class="nt">&quot;default_for_all&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Сюда автоматически попадают все участники команды&quot;</span><span class="p">,</span>
                <span class="nt">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Общий чат&quot;</span><span class="p">,</span>
                <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1568764808134709248</span><span class="p">,</span>
                <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;stub&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/u/f0769a/%D0%9E%D1%87/256.png&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-82d6c0d4-8921-4519-abb3-02f17373112f&quot;</span><span class="p">,</span>
                <span class="nt">&quot;notifications_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;num_members&quot;</span><span class="p">:</span> <span class="mi">32</span><span class="p">,</span>
                <span class="nt">&quot;public&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;member&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;team_unread&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">31</span>
            <span class="p">},</span>
            <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-confirm">
<h2>server.confirm<a class="headerlink" href="#server-confirm" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сервер потвердил сообщение клиента</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">confirm_id</span></code> - UID созданное сервером</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.confirm&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;b8b2ccd6-35a6-408f-a591-c696a9f9e73e&quot;</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-contact-updated">
<h2>server.contact.updated<a class="headerlink" href="#server-contact-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Контакт создан или обновлен</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">contacts</span></code> - информация контакта</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.contact.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;contacts&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;can_add_to_group&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;can_call&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;can_create_task&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;can_send_message&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;changeable_fields&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="nt">&quot;contact_email&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;contact_phone&quot;</span><span class="p">:</span> <span class="s2">&quot;+75550000031&quot;</span><span class="p">,</span>
                <span class="nt">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Контакт №32&quot;</span><span class="p">,</span>
                <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;stub&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/u/8e88eb/32/256.png&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-a792832a-d9f6-4bbc-b545-f2800e329c8c&quot;</span><span class="p">,</span>
                <span class="nt">&quot;last_activity&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                <span class="nt">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[],</span>
                <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;member&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-debug">
<h2>server.debug<a class="headerlink" href="#server-debug" title="Ссылка на этот заголовок">¶</a></h2>
<p>Отладочное сообщение</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code> - Отладочное сообщение</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-login">
<h2>server.login<a class="headerlink" href="#server-login" title="Ссылка на этот заголовок">¶</a></h2>
<p>Логин с другого устройства</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">device_name</span></code> - имя устройства</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.login&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;device_name&quot;</span><span class="p">:</span> <span class="s2">&quot;(unknown device)&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-message-push">
<h2>server.message.push<a class="headerlink" href="#server-message-push" title="Ссылка на этот заголовок">¶</a></h2>
<p>Проталкивание сообщения для настольного клиента</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chat</span></code> - Id чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">click_action</span></code> - ссылка открываемая на нажатии</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">created</span></code> - время создания сообщения</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">icon_url</span></code> - абсолютная ссылка на иконку</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> - тело сообщения push</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message_id</span></code> - Id сообщения</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sender</span></code> - Id контакта отправителя</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">subtitle</span></code> - субтитры push</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tag</span></code> - тэг (для объединенных push)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team</span></code> - uid команды</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">title</span></code> - титул push</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-message-received">
<h2>server.message.received<a class="headerlink" href="#server-message-received" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сообщение полученное кем-то в чате</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">messages</span></code> - данные полученных сообщений</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.message.received&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat&quot;</span><span class="p">:</span> <span class="s2">&quot;t-be962c01-14ae-4c59-aeb0-f0ff5cffab74&quot;</span><span class="p">,</span>
                <span class="nt">&quot;message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;e0fca4c2-0d17-4317-96cd-703c2ca781e4&quot;</span><span class="p">,</span>
                <span class="nt">&quot;num_received&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;received&quot;</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-message-updated">
<h2>server.message.updated<a class="headerlink" href="#server-message-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сообщение было создано, изменено или удалено</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">badge</span></code> - общее количество непрочитанных, если изменено</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">chat_counters</span></code> - счетчик чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">delayed</span></code> - true = бесшумное обновление сообщения, false = новое сообщение</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">messages</span></code> - данные сообщений</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">team_unread</span></code> - количество непрочитанных в этой команде</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.message.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;badge&quot;</span><span class="p">:</span> <span class="mi">51</span><span class="p">,</span>
        <span class="nt">&quot;chat_counters&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;task&quot;</span><span class="p">,</span>
                <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1569546093662061959</span><span class="p">,</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;t-be962c01-14ae-4c59-aeb0-f0ff5cffab74&quot;</span><span class="p">,</span>
                <span class="nt">&quot;last_read_message_id&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                <span class="nt">&quot;num_unread&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;num_unread_notices&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;delayed&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat&quot;</span><span class="p">:</span> <span class="s2">&quot;t-be962c01-14ae-4c59-aeb0-f0ff5cffab74&quot;</span><span class="p">,</span>
                <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;task&quot;</span><span class="p">,</span>
                <span class="nt">&quot;content&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;actor&quot;</span><span class="p">:</span> <span class="s2">&quot;d-0b1b2362-fb69-4dd6-8bfb-90c89517168d&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;text&quot;</span><span class="p">:</span> <span class="s2">&quot;Создана задача для @Контакт_№394: Тест&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Создана задача для @Контакт_№394: Тест&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;change&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;created&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-27T01:01:33.661466Z&quot;</span><span class="p">,</span>
                <span class="nt">&quot;editable_until&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-28T01:01:33.661466Z&quot;</span><span class="p">,</span>
                <span class="nt">&quot;from&quot;</span><span class="p">:</span> <span class="s2">&quot;d-a2d94e8e-74aa-4b0b-b55d-0b4fc1ce07f4&quot;</span><span class="p">,</span>
                <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1569546093662061959</span><span class="p">,</span>
                <span class="nt">&quot;is_first&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;is_last&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;message_id&quot;</span><span class="p">:</span> <span class="s2">&quot;e0fca4c2-0d17-4317-96cd-703c2ca781e4&quot;</span><span class="p">,</span>
                <span class="nt">&quot;to&quot;</span><span class="p">:</span> <span class="s2">&quot;t-be962c01-14ae-4c59-aeb0-f0ff5cffab74&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;team_unread&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">51</span>
            <span class="p">},</span>
            <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-online">
<h2>server.online<a class="headerlink" href="#server-online" title="Ссылка на этот заголовок">¶</a></h2>
<p>Текшие активные звонки и члены команд онлайн</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">calls</span></code> - звонки в прогрессе</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">contacts</span></code> - члены команд онлайн</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.online&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;calls&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;g-3f7e2a85-49f5-4586-8229-d9c52813dcb2&quot;</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="nt">&quot;contacts&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;afk&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span><span class="p">,</span>
                <span class="nt">&quot;mobile&quot;</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-panic">
<h2>server.panic<a class="headerlink" href="#server-panic" title="Ссылка на этот заголовок">¶</a></h2>
<p>Критическая ошибка сервера</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">code</span></code> - Код ошибки</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">debug</span></code> - Отладочное сообщение</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.panic&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;code&quot;</span><span class="p">:</span> <span class="s2">&quot;INVALID_TEAM&quot;</span><span class="p">,</span>
             <span class="nt">&quot;debug&quot;</span><span class="p">:</span> <span class="kc">null</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-processing">
<h2>server.processing<a class="headerlink" href="#server-processing" title="Ссылка на этот заголовок">¶</a></h2>
<p>Состояние операции на заднем фоне</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">action</span></code> - Имя действия</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">has_error</span></code> - Есть ли ошибка</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> - сообщение</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">num</span></code> - количество текуще обрабатываемых предметов</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">total</span></code> - Total processing items</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-remind-deleted">
<h2>server.remind.deleted<a class="headerlink" href="#server-remind-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Напоминание было удалено</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reminds</span></code> - данные напоминания</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.remind.deleted&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;reminds&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;22018199-c3ae-4a9c-829e-985e975eb62a&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-remind-fired">
<h2>server.remind.fired<a class="headerlink" href="#server-remind-fired" title="Ссылка на этот заголовок">¶</a></h2>
<p>Напоминание сработало</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reminds</span></code> - данные напоминания</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.remind.fired&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;reminds&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat&quot;</span><span class="p">:</span> <span class="s2">&quot;t-2c527748-2e00-440e-a625-58121d42fdad&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fire_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-27T11:01:03.428564Z&quot;</span><span class="p">,</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;22018199-c3ae-4a9c-829e-985e975eb62a&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-remind-updated">
<h2>server.remind.updated<a class="headerlink" href="#server-remind-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Напоминание обновлено</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">reminds</span></code> - данные напоминания</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.remind.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;reminds&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;chat&quot;</span><span class="p">:</span> <span class="s2">&quot;t-2c527748-2e00-440e-a625-58121d42fdad&quot;</span><span class="p">,</span>
                <span class="nt">&quot;fire_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-27T11:01:03.428564Z&quot;</span><span class="p">,</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;22018199-c3ae-4a9c-829e-985e975eb62a&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-section-deleted">
<h2>server.section.deleted<a class="headerlink" href="#server-section-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Секция контактов или задача была удалена</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chat_type</span></code> - Тип чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gentime</span></code> - Устаревшее поле</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sections</span></code> - информация о проекте или секции</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.section.deleted&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;direct&quot;</span><span class="p">,</span>
        <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1568786364815431424</span><span class="p">,</span>
        <span class="nt">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;8daeb4a2-4863-4953-bcf1-c58b84dc5272&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-section-updated">
<h2>server.section.updated<a class="headerlink" href="#server-section-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Секция контактов или задача была создана или удалена</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">chat_type</span></code> - Тип чата</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gentime</span></code> - Устаревшее поле</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sections</span></code> - информация о проекте или секции</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.section.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;chat_type&quot;</span><span class="p">:</span> <span class="s2">&quot;group&quot;</span><span class="p">,</span>
        <span class="nt">&quot;gentime&quot;</span><span class="p">:</span> <span class="mi">1569546093241191168</span><span class="p">,</span>
        <span class="nt">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-tag-deleted">
<h2>server.tag.deleted<a class="headerlink" href="#server-tag-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Тэг удален</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code> - информация о тэге</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-tag-updated">
<h2>server.tag.updated<a class="headerlink" href="#server-tag-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Тэг создан или удален</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tags</span></code> - информация о тэге</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-team-counters">
<h2>server.team.counters<a class="headerlink" href="#server-team-counters" title="Ссылка на этот заголовок">¶</a></h2>
<p>Счетчик других комманд</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">badge</span></code> - количество непрочитанных сообщений</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">teams</span></code> - счетчики</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.team.counters&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;teams&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;b3e92407-41d0-456a-9b1d-3d6b79bfa7d3&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">161</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;8b05a648-d43a-4d17-9a0e-c2a119453494&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;6aefcf3b-e61c-4f35-8b5b-9d762a6a6cf9&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">3</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;5e854825-d1ac-4b28-a389-f0e8cc3bd675&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;180b9b6d-ecb0-47aa-8712-33dbd9b4a642&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">58</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;99cabb3b-d4fd-464d-b33d-144b67e3c1df&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">127</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;523e7bdc-e73f-4150-b6b9-656d6178ba51&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">63</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;c9d8a896-a2b6-40a1-869e-2ecc0ef2436b&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">31</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-team-deleted">
<h2>server.team.deleted<a class="headerlink" href="#server-team-deleted" title="Ссылка на этот заголовок">¶</a></h2>
<p>Комманда архивирована</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">teams</span></code> - информация комманд</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.team.deleted&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;teams&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;is_archive&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;c9d8a896-a2b6-40a1-869e-2ecc0ef2436b&quot;</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-team-updated">
<h2>server.team.updated<a class="headerlink" href="#server-team-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Комманда создана или изменена</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">teams</span></code> - отсутствует документация</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.team.updated&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;teams&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="nt">&quot;can_manage_sections&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;default_task_deadline&quot;</span><span class="p">:</span> <span class="s2">&quot;18:00:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;stub&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/u/f0769a/00/256.png&quot;</span>
                <span class="p">},</span>
                <span class="nt">&quot;last_active&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="nt">&quot;max_message_update_age&quot;</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
                <span class="nt">&quot;me&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;alt_send&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;can_add_to_group&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;can_create_task&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;can_delete&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;changeable_fields&quot;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&quot;alt_send&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;contact_email&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;contact_mshort_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;contact_phone&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;contact_short_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;contact_show_archived&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;debug_show_activity&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;default_lang&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;family_name&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;given_name&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;group_mshort_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;group_notifications_enabled&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;group_short_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;icons&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;phone&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;role&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;task_mshort_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;task_notifications_enabled&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;task_short_view&quot;</span><span class="p">,</span>
                        <span class="s2">&quot;unread_first&quot;</span>
                    <span class="p">],</span>
                    <span class="nt">&quot;contact_email&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;contact_mshort_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;contact_phone&quot;</span><span class="p">:</span> <span class="s2">&quot;+75550000001&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;contact_short_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;contact_show_archived&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;debug_show_activity&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;default_lang&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                    <span class="nt">&quot;display_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Контакт №2&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;family_name&quot;</span><span class="p">:</span> <span class="s2">&quot;№2&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;given_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Контакт&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;group_mshort_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;group_notifications_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;group_short_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;icons&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;stub&quot;</span><span class="p">:</span> <span class="s2">&quot;http://127.0.0.1:8000/u/63bed3/%D0%9A%E2%84%96/256.png&quot;</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;jid&quot;</span><span class="p">:</span> <span class="s2">&quot;d-bd500a50-3a38-44d1-a43c-fb1a48e1a79e&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;last_activity&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
                    <span class="nt">&quot;role&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;sections&quot;</span><span class="p">:</span> <span class="p">[],</span>
                    <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;member&quot;</span><span class="p">,</span>
                    <span class="nt">&quot;task_mshort_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;task_notifications_enabled&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="nt">&quot;task_short_view&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                    <span class="nt">&quot;unread_first&quot;</span><span class="p">:</span> <span class="kc">false</span>
                <span class="p">},</span>
                <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;T-32 2019-09-18 00:00:05.603182+00:00&quot;</span><span class="p">,</span>
                <span class="nt">&quot;need_confirmation&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="nt">&quot;uid&quot;</span><span class="p">:</span> <span class="s2">&quot;c9d8a896-a2b6-40a1-869e-2ecc0ef2436b&quot;</span><span class="p">,</span>
                <span class="nt">&quot;unread&quot;</span><span class="p">:</span> <span class="p">{</span>
                    <span class="nt">&quot;direct&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">31</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;group&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">0</span>
                    <span class="p">},</span>
                    <span class="nt">&quot;task&quot;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="nt">&quot;chats&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                        <span class="nt">&quot;messages&quot;</span><span class="p">:</span> <span class="mi">1</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-time">
<h2>server.time<a class="headerlink" href="#server-time" title="Ссылка на этот заголовок">¶</a></h2>
<p>Текущее время на сервере</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code> - текущее время</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.time&quot;</span><span class="p">,</span>
    <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;time&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-09-27T01:01:33.216665Z&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-uisettings">
<h2>server.uisettings<a class="headerlink" href="#server-uisettings" title="Ссылка на этот заголовок">¶</a></h2>
<p>Часть настроик интерфейса была изменена</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;last-tab&quot;</span><span class="p">:</span> <span class="mi">91238475</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="server-upload-updated">
<h2>server.upload.updated<a class="headerlink" href="#server-upload-updated" title="Ссылка на этот заголовок">¶</a></h2>
<p>Загрузочный объект создан или изменен</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">uploads</span></code> - данные загрузки</p></li>
</ul>
<p><strong>ПРИМЕР ОТСУТСТВУЕТ</strong></p>
</div>
<div class="section" id="server-warning">
<h2>server.warning<a class="headerlink" href="#server-warning" title="Ссылка на этот заголовок">¶</a></h2>
<p>Что-то пошло не так с сообщением клиента</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code> - сообщение</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">orig</span></code> - отладочная информация</p></li>
</ul>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;server.warning&quot;</span><span class="p">,</span>
     <span class="nt">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
             <span class="nt">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;unknown event: client.deeeeeaddddbeeeeeef&quot;</span><span class="p">,</span>
             <span class="nt">&quot;orig&quot;</span><span class="p">:</span> <span class="p">{</span>
                     <span class="nt">&quot;confirm_id&quot;</span><span class="p">:</span> <span class="s2">&quot;c6280a82ed1c&quot;</span><span class="p">,</span>
                     <span class="nt">&quot;event&quot;</span><span class="p">:</span> <span class="s2">&quot;client.deeeeeaddddbeeeeeef&quot;</span>
             <span class="p">}</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="data_index.html" class="btn btn-neutral float-right" title="Индекс Enum" accesskey="n" rel="next">Следующая <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="misc_paths.html" class="btn btn-neutral float-left" title="Остальные пути" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Предыдущая</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <li><a href="https://github.com/tada-team/tdproto-sphinx/">Project Homepage</a> &raquo;</li>
    
    <p>
        &#169; Copyright .

    </p>

  </div>
    
    
    
    Собрано при помощи <a href="https://www.sphinx-doc.org/">Sphinx</a> с использованием
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">темы,</a>
    
    предоставленной <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>